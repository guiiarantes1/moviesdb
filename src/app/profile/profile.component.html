<div class="container">
  <div class="header">
    <p routerLink="">Homem de Ferro Films</p>
    <button mat-button (click)="voltar()">Voltar</button>
  </div>

  <div class="body">
    <div class="informacoes">
      <section class="imagem">
        <img [src]="imgBaseUrl + profile.profile_path" />
      </section>

      <section class="detalhesProfile">
        <section class="informacoesProfile">
          <section class="socialMedia">
            <a *ngIf="externalIds.facebook_id"  [href]="facebook_id + externalIds.facebook_id"
          ><img class="facebook" src="https://www.themoviedb.org/assets/2/v4/glyphicons/social/facebook-71155d1cd369c47ce8456477833a92c324fa01e6d628cb6ece19cedea3c1c480.svg">
        </a>

            <a *ngIf="externalIds.instagram_id" class="instagram" [href]="instagram_id + externalIds.instagram_id"
            ><img src="https://www.themoviedb.org/assets/2/v4/glyphicons/social/instagram-74e6299c864adc384258da3b3a8eb09282b7ccda4dd1dfa9a4158ba2ea8583b9.svg">
          </a>
          <a *ngIf="externalIds.twitter_id" class="twitter" [href]="twitter_id + externalIds.twitter_id"
          ><img src="https://www.themoviedb.org/assets/2/v4/glyphicons/social/twitter-a6ff8c172b8e086f4a64578cee0a16676c1a067b47a1b1b186d58795d241a852.svg">
        </a>
          </section>
          <h3>Informações Pessoais</h3>

          <h4>Conhecido(a) por</h4>
          <p>{{ profile.known_for_department }}</p>
          <h4>Gênero</h4>
          <p>{{ profile.gender }}</p>
          <h4>Nascimento</h4>
          <p>{{ profile.birthday | date : "dd/MM/yyyy" }}</p>
          <h4 *ngIf="profile.deathday">Falecimento †</h4>
          <p>{{ profile.deathday | date : "dd/MM/yyyy" }}</p>
          <h4>Local de Nascimento (em inglês)</h4>
          <p>{{ profile.place_of_birth }}</p>
        </section>
      </section>
    </div>

    <div class="profile">
      <section class="nomeProfile">
        <h2>{{ profile.name }}</h2>
      </section>
      <section class="biografia">
        <h3>Biografia</h3>
        <p>{{ profile.biography }}</p>
      </section>
      <section class="filmesProfile">
        <p>Conhecido (a) por:</p>
        <section class="profileMovies">
          <mat-card
            class="filme"
            *ngFor="let profileMovie of profileMovies"
            [routerLink]="['', 'detalhes', profileMovie.id]"
          >
            <img
              mat-card-image
              [src]="imgBaseUrl + profileMovie.poster_path"
              onerror="this.src='https://www.escapeauthority.com/wp-content/uploads/2116/11/No-image-found.jpg'"
            />
            <mat-card-content>
              <p class="descricao">
                {{ profileMovie.title }}{{ profileMovie.name }}
              </p>
            </mat-card-content>
          </mat-card>
        </section>
      </section>

        <section class="atuacao">
          <p>Atuação</p>
          <table mat-table [dataSource]="atuacaoMovies" class="mat-elevation-z4">
            <ng-container matColumnDef="release_date">
              <td class="release_date" mat-cell *matCellDef="let element"> {{element.release_date || element.first_air_date | date : " yyyy"}}  </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="title">
              <td mat-cell *matCellDef="let element"> <a [routerLink]="['', 'detalhes', element.id]">{{element.title || element.name}}</a> <p *ngIf="element.episode_count" class="qntdEpisodios"> ({{element.episode_count}} episódios)</p> <p class="como" *ngIf="element.character"> como </p> <p class="personagem">{{element.character}}</p> </td>
            </ng-container>
            <tr mat-header-row ="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
        </section>

        <section class="producao" *ngIf="producao" >
          <p>Produção</p>
          <table mat-table [dataSource]="producaoMovies" class="mat-elevation-z4" >

            <ng-container matColumnDef="release_date">
              <td class="release_date" mat-cell *matCellDef="let element"> {{element.release_date || element.first_air_date | date : " yyyy"}}  </td>
            </ng-container>

            <!-- Name Column -->
            <ng-container matColumnDef="title">
              <td mat-cell *matCellDef="let element"> <a [routerLink]="['', 'detalhes', element.id]">{{element.title || element.name}}</a> <p *ngIf="element.episode_count" class="qntdEpisodios"> ({{element.episode_count}} episódios)</p> <p class="como" *ngIf="element.job"> como </p> <p class="personagem">{{element.job}}</p> </td>
            </ng-container>
            <tr mat-header-row ="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
        </section>

    </div>
  </div>
</div>
